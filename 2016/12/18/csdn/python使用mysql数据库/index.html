
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
  <title>python使用mysql数据库 | ITSky</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
  
  <meta name="author" content="JerryLiu">
  
  <meta name="description" content="一，安装mysql
如果是windows 用户，mysql 的安装非常简单，直接下载安装文件，双击安装文件一步一步进行操作即可。Linux 下的安装可能会更加简单，除了下载安装包进行安装外，一般的linux 仓库中都会有mysql ，我们只需要通过一个命令就可以下载安装：Ubuntu\deepin
">
  
  
  
  
  
  <link rel="icon" href="/img/favicon.ico">
  
  
  <link rel="apple-touch-icon" href="/img/pacman.jpg">
  <link rel="apple-touch-icon-precomposed" href="/img/pacman.jpg">
  
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/jquery-2.1.0.min.js"></script>
  <link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/8.0/styles/monokai_sublime.min.css">
  <script type="text/javascript" src="//cdn.bootcss.com/highlight.js/8.0/highlight.min.js"></script>
  <script type="text/javascript">
      hljs.initHighlightingOnLoad()
  </script>
</head>

  <body>
    <header>
      <div>
	
	<div id="textlogo">
		<!-- <h1 class="site-name"><a href="/" title="ITSky">ITSky</a></h1>-->
		<h1 class="site-name">ITSky</h1>
		<h2 class="blog-motto">专注于Linux、Hadoop、Hive、Spark、Kaffka、Redis、MongoDB、ElasticSearch等技术</h2>
	</div>
	<div class="navbar">
		<a class="navbutton navmobile" href="#" title="菜单"></a>
	</div>
	<nav class="animated">
		<ul>
			
				<li><a href="/">主页</a></li>
			
				<li><a href="/archives">归档</a></li>
			
				<li><a href="/categories">分类</a></li>
			
				<li><a href="/about">About</a></li>
			
			<li>
			
			<!--<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
				<label>Search</label>
				<input type="text" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
				<input type="hidden" name="q" value="site:itsky88.com">
			</form>-->
			
			</li>
		</ul>
	</nav>
</div>

    </header>
    <div id="container">
      <!-- 文章内容详情模块 -->
<div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h2 itemprop="name">
    
      <a href="/2016/12/18/csdn/python使用mysql数据库/" title="python使用mysql数据库" itemprop="url">python使用mysql数据库</a>
    
  </h2>
  <p class="article-author">By
    
      <a href="http://itsky88.com" title="JerryLiu">JerryLiu</a>
    </p>
  <p class="article-time">
    <time datetime="2016-12-18T09:34:18.000Z" itemprop="datePublished">2016-12-18</time>
    更新日期:<time datetime="2016-12-18T09:34:18.000Z" itemprop="dateModified">2016-12-18</time>
    
  </p>
</header>
		<div class="article-content">
			
			
				<div id="toc" class="toc-article">
					<strong class="toc-title">文章目录</strong>
				
				</div>
			
			<p><strong>一，安装mysql</strong></p>
<p>如果是windows 用户，mysql 的安装非常简单，直接下载安装文件，双击安装文件一步一步进行操作即可。<br>Linux 下的安装可能会更加简单，除了下载安装包进行安装外，一般的linux 仓库中都会有mysql ，我们只需要通过一个命令就可以下载安装：<br>Ubuntu\deepin</p>
<blockquote>
<blockquote>
<p>sudo apt-get install mysql-server<br>Sudo apt-get install  mysql-client<br>centOS/redhat<br>yum install mysql</p>
</blockquote>
</blockquote>
<p><strong>二，安装MySQL-python</strong><br>要想使python可以操作mysql 就需要MySQL-python驱动，它是python 操作mysql必不可少的模块。<br>下载地址：<a href="https://pypi.python.org/pypi/MySQL-python/" target="_blank" rel="external">https://pypi.python.org/pypi/MySQL-python/</a><br>下载MySQL-python-1.2.5.zip 文件之后直接解压。进入MySQL-python-1.2.5目录:</p>
<blockquote>
<blockquote>
<p>python setup.py install</p>
</blockquote>
</blockquote>
<p><strong>三，测试</strong><br>测试非常简单，检查MySQLdb 模块是否可以正常导入。</p>
<pre><code>fnngj@fnngj-H24X:~/pyse$ python 
Python 2.7.4 (default, Sep 26 2013, 03:20:56) 
[GCC 4.7.3] on linux2
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import MySQLdb
</code></pre><p>没有报错提示MySQLdb模块找不到，说明安装OK ，下面开始使用python 操作数据库之前，我们有必要来回顾一下mysql的基本操作：</p>
<p><strong>四，mysql 的基本操作</strong></p>
<p>$ mysql -u root -p  （有密码时）<br>$ mysql -u root     （无密码时）</p>
<p><a href="&quot;复制代码&quot;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a>    mysql&gt; show databases;  // 查看当前所有的数据库<br>    +——————–+<br>    | Database           |<br>    +——————–+<br>    | information_schema |<br>    | csvt               |<br>    | csvt04             |<br>    | mysql              |<br>    | performance_schema |<br>    | test               |<br>    +——————–+<br>    6 rows in set (0.18 sec)</p>
<pre><code>mysql&gt; use test;   //作用与test数据库
Database changed
mysql&gt; show tables;   //查看test库下面的表
Empty set (0.00 sec)

//创建user表，name 和password 两个字段
mysql&gt; CREATE  TABLE  user (name VARCHAR(20),password VARCHAR(20));  Query OK, 0 rows affected (0.27 sec)

//向user表内插入若干条数据
mysql&gt; insert into user values(&#39;Tom&#39;,&#39;1321&#39;);Query OK, 1 row affected (0.05 sec)

mysql&gt; insert into user values(&#39;Alen&#39;,&#39;7875&#39;);Query OK, 1 row affected (0.08 sec)

mysql&gt; insert into user values(&#39;Jack&#39;,&#39;7455&#39;);Query OK, 1 row affected (0.04 sec)

//查看user表的数据
mysql&gt; select * from user;+------+----------+
| name | password |
+------+----------+
| Tom  | 1321     |
| Alen | 7875     |
| Jack | 7455     |
+------+----------+
3 rows in set (0.01 sec)

//删除name 等于Jack的数据
mysql&gt; delete from user where name = &#39;Jack&#39;;Query OK, 1 rows affected (0.06 sec)

//修改name等于Alen 的password 为 1111
mysql&gt; update user set password=&#39;1111&#39; where name = &#39;Alen&#39;;Query OK, 1 row affected (0.05 sec)
Rows matched: 1  Changed: 1  Warnings: 0

//查看表内容
mysql&gt; select * from user;+--------+----------+
| name   | password |
+--------+----------+
| Tom    | 1321     |
| Alen   | 1111     |
+--------+----------+
3 rows in set (0.00 sec)
</code></pre><p><a href="&quot;复制代码&quot;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a> </p>
<p><strong>五，python 操作mysql数据库基础</strong><br><a href="&quot;复制代码&quot;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a>    #coding=utf-8<br>    import MySQLdb</p>
<pre><code>conn= MySQLdb.connect(
        host=&#39;localhost&#39;,
        port = 3306,
        user=&#39;root&#39;,
        passwd=&#39;123456&#39;,
        db =&#39;test&#39;,
        )
cur = conn.cursor()#创建数据表#cur.execute(&quot;create table student(id int ,name varchar(20),class varchar(30),age varchar(10))&quot;)

#插入一条数据#cur.execute(&quot;insert into student values(&#39;2&#39;,&#39;Tom&#39;,&#39;3 year 2 class&#39;,&#39;9&#39;)&quot;)


#修改查询条件的数据#cur.execute(&quot;update student set class=&#39;3 year 1 class&#39; where name = &#39;Tom&#39;&quot;)

#删除查询条件的数据#cur.execute(&quot;delete from student where age=&#39;9&#39;&quot;)
cur.close()
conn.commit()
conn.close()
</code></pre><p><a href="&quot;复制代码&quot;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a>&gt;&gt;&gt; conn = MySQLdb.connect(host=’localhost’,port = 3306,user=’root’, passwd=’123456’,db =’test’,)<br>Connect() 方法用于创建数据库的连接，里面可以指定参数：用户名，密码，主机等信息。<br>这只是连接到了数据库，要想操作数据库需要创建游标。</p>
<blockquote>
<blockquote>
<blockquote>
<p>cur = conn.cursor()<br>通过获取到的数据库连接conn下的cursor()方法来创建游标。</p>
<p>cur.execute(“create table student(id int ,name varchar(20),class varchar(30),age varchar(10))”)<br>通过游标cur 操作execute()方法可以写入纯sql语句。通过execute()方法中写如sql语句来对数据进行操作。</p>
<p>cur.close()<br>cur.close() 关闭游标<br>conn.commit()<br>conn.commit()方法在提交事物，在向数据库插入一条数据时必须要有这个方法，否则数据不会被真正的插入。<br>conn.close()<br>Conn.close()关闭数据库连接</p>
</blockquote>
</blockquote>
</blockquote>
<p><strong>六，插入数据</strong></p>
<p>通过上面execute()方法中写入纯的sql语句来插入数据并不方便。如：</p>
<blockquote>
<blockquote>
<blockquote>
<p>cur.execute(“insert into student values(‘2’,’Tom’,’3 year 2 class’,’9’)”)<br>我要想插入新的数据，必须要对这条语句中的值做修改。我们可以做如下修改：<br><a href="&quot;复制代码&quot;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a>    #coding=utf-8<br>    import MySQLdb</p>
</blockquote>
</blockquote>
</blockquote>
<pre><code>conn= MySQLdb.connect(
        host=&#39;localhost&#39;,
        port = 3306,
        user=&#39;root&#39;,
        passwd=&#39;123456&#39;,
        db =&#39;test&#39;,
        )
cur = conn.cursor()#插入一条数据
sqli=&quot;insert into student values(%s,%s,%s,%s)&quot;cur.execute(sqli,(&#39;3&#39;,&#39;Huhu&#39;,&#39;2 year 1 class&#39;,&#39;7&#39;))

cur.close()
conn.commit()
conn.close()
</code></pre><p><a href="&quot;复制代码&quot;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a><br>假如要一次向数据表中插入多条值呢？<br><a href="&quot;复制代码&quot;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a>    #coding=utf-8<br>    import MySQLdb</p>
<pre><code>conn= MySQLdb.connect(
        host=&#39;localhost&#39;,
        port = 3306,
        user=&#39;root&#39;,
        passwd=&#39;123456&#39;,
        db =&#39;test&#39;,
        )
cur = conn.cursor()#一次插入多条记录
sqli=&quot;insert into student values(%s,%s,%s,%s)&quot;cur.executemany(sqli,[
    (&#39;3&#39;,&#39;Tom&#39;,&#39;1 year 1 class&#39;,&#39;6&#39;),
    (&#39;3&#39;,&#39;Jack&#39;,&#39;2 year 1 class&#39;,&#39;7&#39;),
    (&#39;3&#39;,&#39;Yaheng&#39;,&#39;2 year 2 class&#39;,&#39;7&#39;),
    ])

cur.close()
conn.commit()
conn.close()
</code></pre><p><a href="&quot;复制代码&quot;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a>executemany()方法可以一次插入多条值，执行单挑sql语句,但是重复执行参数列表里的参数,返回值为受影响的行数。</p>
<p><strong>七，查询数据</strong></p>
<p>也许你已经尝试了在python中通过</p>
<blockquote>
<blockquote>
<blockquote>
<p>cur.execute(“select <em> from student”)<br>来查询数据表中的数据，但它并没有把表中的数据打印出来，有些失望。<br>来看看这条语句获得的是什么<br>aa=cur.execute(“select </em> from student”)<br>print aa<br>5<br>它获得的只是我们的表中有多少条数据。那怎样才能获得表中的数据呢？进入python shell</p>
</blockquote>
</blockquote>
</blockquote>
<p><a href="&quot;复制代码&quot;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a>    &gt;&gt;&gt; import MySQLdb&gt;&gt;&gt; conn = MySQLdb.connect(host=’localhost’,port = 3306,user=’root’,    passwd=’123456’,db =’test’,)&gt;&gt;&gt; cur = conn.cursor()&gt;&gt;&gt; cur.execute(“select * from student”)5L</p>
<pre><code>&gt;&gt;&gt; cur.fetchone()
(1L, &#39;Alen&#39;, &#39;1 year 2 class&#39;, &#39;6&#39;)&gt;&gt;&gt; cur.fetchone()
(3L, &#39;Huhu&#39;, &#39;2 year 1 class&#39;, &#39;7&#39;)&gt;&gt;&gt; cur.fetchone()
(3L, &#39;Tom&#39;, &#39;1 year 1 class&#39;, &#39;6&#39;)
...&gt;&gt;&gt;cur.scroll(0,&#39;absolute&#39;) 
</code></pre><p><a href="&quot;复制代码&quot;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a><br>　　fetchone()方法可以帮助我们获得表中的数据，可是每次执行cur.fetchone() 获得的数据都不一样，换句话说我没执行一次，游标会从表中的第一条数据移动到下一条数据的位置，所以，我再次执行的时候得到的是第二条数据。<br>　　scroll(0,’absolute’) 方法可以将游标定位到表中的第一条数据。</p>
<p>还是没解决我们想要的结果，如何获得表中的多条数据并打印出来呢？<br><a href="&quot;复制代码&quot;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a>    #coding=utf-8<br>    import MySQLdb</p>
<pre><code>conn= MySQLdb.connect(
        host=&#39;localhost&#39;,
        port = 3306,
        user=&#39;root&#39;,
        passwd=&#39;123456&#39;,
        db =&#39;test&#39;,
        )
cur = conn.cursor()#获得表中有多少条数据
aa=cur.execute(&quot;select * from student&quot;)print aa#打印表中的多少数据
info = cur.fetchmany(aa)for ii in info:
    print ii
cur.close()
conn.commit()
conn.close()
</code></pre><p><a href="&quot;复制代码&quot;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a>　　通过之前的print aa 我们知道当前的表中有5条数据，fetchmany()方法可以获得多条数据，但需要指定数据的条数，通过一个for循环就可以把多条数据打印出啦！执行结果如下：</p>
<p><a href="&quot;复制代码&quot;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a>    5(1L, ‘Alen’, ‘1 year 2 class’, ‘6’)<br>    (3L, ‘Huhu’, ‘2 year 1 class’, ‘7’)<br>    (3L, ‘Tom’, ‘1 year 1 class’, ‘6’)<br>    (3L, ‘Jack’, ‘2 year 1 class’, ‘7’)<br>    (3L, ‘Yaheng’, ‘2 year 2 class’, ‘7’)<br>    [Finished in 0.1s]</p>

		</div>
		<footer class="article-footer clearfix">




<div class="article-share" id="share">

  <div data-url="http://itsky88.com/2016/12/18/csdn/python使用mysql数据库/" data-title="python使用mysql数据库 | ITSky" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2016/12/18/csdn/mysql获得当前日期的前N日的日期/" title="mysql获得当前日期的前N日的日期">
  <strong>PREVIOUS:</strong><br/>
  <span>
  mysql获得当前日期的前N日的日期</span>
</a>
</div>


<div class="next">
<a href="/2016/12/18/csdn/python获取指定日期的前n天或后n天日期/"  title="python获取指定日期的前n天或后n天日期">
 <strong>NEXT:</strong><br/> 
 <span>python获取指定日期的前n天或后n天日期
</span>
</a>
</div>

</nav>

	
	<script type="text/javascript" src="/js/my_highlight.js"></script>
</div>  
      <div class="openaside">
    <a class="navbutton" href="#" title="显示侧边栏"></a>
</div>

  <div id="toc" class="toc-aside">
      <strong class="toc-title">文章目录</strong>
      
  </div>

<div id="asidepart">
    <div class="closeaside">
        <a class="closebutton" href="#" title="隐藏侧边栏"></a>
    </div>
    <aside class="clearfix">
        
          
	<div class="widget">
		<div class="categorieslist">
			<p class="asidetitle fa fa-gui">分类</p>
				<ul>
				
					<li><a href="/categories/Hibernate/" title="Hibernate">Hibernate<sup>1</sup></a></li>
				
					<li><a href="/categories/Hive/" title="Hive">Hive<sup>2</sup></a></li>
				
					<li><a href="/categories/Java/" title="Java">Java<sup>2</sup></a></li>
				
					<li><a href="/categories/Js/" title="Js">Js<sup>2</sup></a></li>
				
					<li><a href="/categories/Maven/" title="Maven">Maven<sup>1</sup></a></li>
				
					<li><a href="/categories/Nodejs/" title="Nodejs">Nodejs<sup>1</sup></a></li>
				
				</ul>
		</div>
	</div>

        
          
  <div class="widget">
    <div class="archiveslist">
      <!-- 输出 ‘归档’ 标题 -->
      <p class="asidetitle fa fa-fei">
        <a href="/archives">
          归档
        </a>
      </p>

        <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">89</span></li></ul>
    </div>
  </div>


        
          
<div class="widget">
	<div class="linkslist">
		<p class="asidetitle fa fa-xie">最新文章</p>
			<ul>
			
				<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>1</sup></a></li>
			
				<li><a href="/tags/Hibernate/" title="Hibernate">Hibernate<sup>1</sup></a></li>
			
				<li><a href="/tags/Hive/" title="Hive">Hive<sup>2</sup></a></li>
			
				<li><a href="/tags/Java/" title="Java">Java<sup>2</sup></a></li>
			
				<li><a href="/tags/Js/" title="Js">Js<sup>2</sup></a></li>
			
				<li><a href="/tags/Maven/" title="Maven">Maven<sup>1</sup></a></li>
			
			</ul>
	</div>
</div>

        
          <div class="widget">
  <div class="linkslist">
    <p class="asidetitle fa fa-you">友情链接</p>
      <ul>
        <li><a href="http://www.css88.com/jqapi-1.9/" target="_blank" title="Jquery参考手册">Jquery参考手册</a></li>
        <li><a href="http://hexo.io" target="_blank" title="Hexo">Hexo</a></li>
      </ul>
  </div>
</div>
        
    </aside>
</div>
    </div>
    <a id="totop" href="#top"></a>
<script type="text/javascript" src="/js/totop.js?v=1", async></script>
    <footer><div id="footer" >
	<div class="footer-info">
		<p>
			<a>网站地图</a>|<a>订阅本站</a>|<a>联系博主</a>:
			<span>
				<a class="fa fa-github" target="_blank" href="https://github.com/jerryliu306"></a>
				<a class="fa fa-weibo" target="_blank" href="http://weibo.com/u/2679045517/home?wvr=5"></a>
				<a class="fa fa-email" target="_blank" href="1031757312@qq.com"></a>
			</span>
		</p>
		<p>
			<span>
				Copyright &copy;2016&nbsp;JerryLiu
			</span>
			<span>
				Powered by
				<a target='_blank', href='https://hexo.io'>Hexo.</a>
			</span>
		</p>
	</div>
	<!--
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	-->
</div>
</footer>
    <script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



  </body>
</html>

